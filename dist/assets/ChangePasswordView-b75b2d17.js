import{p as c}from"./password-4c11a3c1.js";import{P as w}from"./PasswordContainer-fa2b543d.js";import{_ as u}from"./_plugin-vue_export-helper-c27b6911.js";import{r as d,o as m,c as f,a as o,b as t}from"./index-daccb512.js";import"./mainRepositories-3199904c.js";import"./mainLocalStorage-8f3300f3.js";const p="/assets/secureData-14a15a00.svg",P=c(),h={name:"ChangePasswordView",components:{PasswordContainer:w},data(){return{newPassword:"",confirmPassword:"",oldPassword:""}},methods:{async changePassword(){if(this.checkPassword().success==!1)this.$snackbar.add({type:"error",text:this.checkPassword().error});else{let a=await P.resetPassword(this.oldPassword,this.newPassword);console.log("result change password",a);let s=JSON.parse(a);s.success?(this.$snackbar.add({type:"success",text:s.data.message}),this.$router.push({name:"login"})):this.$snackbar.add({type:"error",text:s.error})}},checkPassword(){return this.newPassword!=this.confirmPassword?{success:!1,error:"Password Tidak Sama"}:this.newPassword==""&&this.confirmPassword==""?{success:!1,error:"Password tidak boleh kosong"}:{success:!0,error:null}}}},_={class:"h-100 w-full"},v={class:""},g={class:"flex flex-row justify-between"},k=o("p",{class:"m-4"},null,-1),x={class:"container"},b=o("img",{src:p,alt:""},null,-1),y={class:"container flex flex-col justify-center items-center gap-y-2"};function C(a,s,B,V,r,l){const i=d("font-awesome-icon"),n=d("PasswordContainer");return m(),f("div",_,[o("header",v,[o("div",g,[t(i,{class:"text-primaryColors m-4",icon:"arrow-left",onClick:s[0]||(s[0]=e=>a.$router.push({name:"login"}))}),k])]),o("div",x,[b,o("div",y,[t(n,{title:"Password Lama",value:r.oldPassword,"onUpdate:value":s[1]||(s[1]=e=>r.oldPassword=e)},null,8,["value"]),t(n,{title:"Password Baru",value:r.newPassword,"onUpdate:value":s[2]||(s[2]=e=>r.newPassword=e)},null,8,["value"]),t(n,{title:"Konfirmasi Password Baru",value:r.confirmPassword,"onUpdate:value":s[3]||(s[3]=e=>r.confirmPassword=e)},null,8,["value"]),o("button",{onClick:s[4]||(s[4]=(...e)=>l.changePassword&&l.changePassword(...e)),class:"rounded-full focus:border-2 focus:border-white px-10 my-5 text-white h-12 bg-primaryColors"},"Rubah Password")])])])}const E=u(h,[["render",C]]);export{E as default};
