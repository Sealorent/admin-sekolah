import{P as p}from"./PasswordContainer-fa2b543d.js";import{a as u}from"./auth-395e6381.js";import{r as c,o as h,c as m,a as e,w as l,v as i,b as f,t as x}from"./index-daccb512.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./mainRepositories-3199904c.js";import"./mainLocalStorage-8f3300f3.js";const k="/assets/adminsekolah-a43c7c2b.png",_=u(),g={components:{PasswordContainer:p},name:"LoginView",data(){return{kode_sekolah:"2020123",nis:"20240202",password:"1234567",isLoading:!1,error:null}},methods:{async loginRequest(){(this.kode_sekolah==""||this.nis==""||this.password=="")&&this.$snackbar.add({type:"error",text:"Data tidak boleh kosong"});const r={kode_sekolah:this.kode_sekolah,nis:this.nis,password:this.password};let t=await _.login(r);var a=JSON.parse(t);this.isLoading=a.loading,a.error==null?this.$router.push("/home"):(this.error=a.error,setTimeout(()=>{this.error=null},2e3))},clear(){localStorage.clear(),this.$snackbar.add({type:"success",text:"Riwayat berhasil dihapus"})},openWhatsApp(){const t="https://wa.me/6281233640003";window.open(t,"_blank")}},mounted(){"onbeforeinstallprompt"in window&&window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredPrompt=r,document.getElementById("downloadBtn").style.display="block"})}},b={class:"flex flex-col h-100"},y={class:"flex-grow"},v={class:"container pt-2"},C=e("div",{class:"flex flex-row justify-center w-full"},[e("img",{src:k,alt:"",class:"w-20 h-20"})],-1),L=e("p",{class:"text-center text-[15px] font-mulish font-[600] pt-6"},"Assalamu'alaikum Selamat Datang Di",-1),P=e("p",{class:"text-center text-[20px] font-mulish font-bold"},"Admin Sekolah",-1),S={class:"container flex flex-col pt-10 item-center gap-y-2"},B={class:"text-end text-primaryColors"},A={href:"",class:"text-center text-red-500 font-mulish text-md"},D={class:"h-20"},N=e("p",{class:"text-center text-[13px] font-mulish pt-8"},"Butuh Bantuan ?",-1);function R(r,t,a,V,o,n){const d=c("PasswordContainer");return h(),m("div",b,[e("main",y,[e("div",v,[C,L,P,e("div",S,[l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.kode_sekolah=s),type:"text",class:"px-2 py-3 mb-3 border-2 border-gray-400 rounded-lg font-mulish",placeholder:"Kode Sekolah"},null,512),[[i,o.kode_sekolah]]),l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.nis=s),type:"text",class:"px-2 py-3 border-2 border-gray-400 rounded-lg font-mulish",placeholder:"NIS"},null,512),[[i,o.nis]]),f(d,{value:o.password,"onUpdate:value":t[2]||(t[2]=s=>o.password=s),title:"Password"},null,8,["value"]),e("small",B,[e("button",{onClick:t[3]||(t[3]=s=>this.$router.push("/resetPassword"))}," Lupa Password ?")]),e("button",{onClick:t[4]||(t[4]=(...s)=>n.loginRequest&&n.loginRequest(...s)),class:"w-full h-12 text-white border-2 rounded-full bg-primaryColors"},"Lanjut"),e("a",A,x(o.error),1),e("a",{href:"",class:"text-center font-mulish text-primaryColors text-md",onClick:t[5]||(t[5]=(...s)=>n.clear&&n.clear(...s))},"Hapus Riwayat")])])]),e("footer",D,[N,e("p",{class:"text-center text-[15px] font-mulish text-primaryColors pt-2",onClick:t[6]||(t[6]=(...s)=>n.openWhatsApp&&n.openWhatsApp(...s))},"Hubungi Admin")])])}const I=w(g,[["render",R]]);export{I as default};
