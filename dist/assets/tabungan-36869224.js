import{z as i}from"./index-7a3f4d22.js";import{m as e}from"./mainRepositories-174151c3.js";import{m as r}from"./mainLocalStorage-6a318ee8.js";const t={data:[],success:!1,loading:!0,error:null},c=i("tabungan",{state:()=>t,actions:{async listTabungan(){try{let s=r.getAuth(),a=await e.getListTabungan(s);return a.data.is_correct?(this.data=a.data.laporan,this.loading=!1,this.success=!0):(this.loading=!1,this.error=a.data.message),JSON.stringify(t)}catch(s){return this.loading=!1,this.error=s.message,JSON.stringify(t)}},async listMetodeBayar(){let s=JSON.stringify({kode_sekolah:r.getAuth().kode_sekolah,nis:r.getAuth().nis,nominal:"",bayar:"",catatan:""});console.log(s);try{let a=await e.listMetodeBayarTabungan(s);return a.data.is_correct?(this.data=a.data,this.loading=!1,this.success=!0):(this.loading=!1,this.error=a.data.message),JSON.stringify(t)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(t)}},async insertIpaymu(s){try{let a=await e.insertIpaymuTabungan(s);return console.log("insertIpaymu"),console.log(a),a.data.is_correct?(this.data=a.data,this.loading=!1,this.success=!0):(this.loading=!1,this.error=a.data.message),JSON.stringify(t)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(t)}},async topUpTabungan(s){try{const a=await e.topUpTabungan(s);return a.data.is_correct?(this.success=!0,this.loading=!1,this.data=a.data,this.error=null):(this.data=a.data,this.success=!1,this.loading=!1,this.error=a.data.message),JSON.stringify(t)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(t)}},async caraPembayaran(s){try{let a=await e.caraPembayaran(s);return console.log(a),console.log(a.data.bank),a.data.is_correct&&a.data!=" "&&a.data!=null&&a.data.bank!=null?(console.log("success"),this.data=a.data,this.loading=!1,this.success=!0):(console.log("error"),this.success=!1,this.data=null,this.loading=!1,this.error=a.data.bank==null||a.data.bank==" "?"Bank Masih Perbaikan":a.data.message,console.log(this.error)),JSON.stringify(t)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(t)}}}});export{c as t};
