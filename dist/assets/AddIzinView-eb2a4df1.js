import{i as m}from"./izin-49bb6c4d.js";import{L as f}from"./LoadingContainer-49b5bdb0.js";import{m as l}from"./mainLocalStorage-6a318ee8.js";import{r as d,o as u,c as x,s as b,x as k,a as t,b as w,w as s,v as a,F as y}from"./index-7a3f4d22.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import"./mainRepositories-174151c3.js";import"./flowbite-vue-7a61088e.js";const _=m(),v={name:"AddIzinView",components:{LoadingCircle:f},data(){return{date:new Date().toISOString().slice(0,10),start:"",end:"",keterangan:"",isLoading:!1}},methods:{async ajukanIzin(){this.isLoading=!0;var i=JSON.stringify({kode_sekolah:l.getAuth().kode_sekolah,nis:l.getAuth().nis,status:"Diajukan",tanggal:this.date,waktu:this.start+"-"+this.end,keperluan:this.keterangan});const e=await _.addIzin(i),r=JSON.parse(e);r.error==null?(this.isLoading=r.loading,this.$router.push({name:"izin"})):(this.isLoading=r.loading,this.$snackbar.add({type:"error",text:r.error}))}}},z={class:"flex flex-col h-100"},L={class:"bg-primaryColors"},C={class:"flex flex-row justify-between"},V=t("p",{class:"text-center text-white font-[500px] font-montserrat py-4"},"Izin Keluar",-1),I=t("p",{class:"m-4"},null,-1),S={class:"flex-grow mt-4 h-10 mx-4"},j={class:"flex flex-col items-center mt-4"};function A(i,e,r,N,n,p){const c=d("LoadingCircle"),g=d("font-awesome-icon");return u(),x(y,null,[n.isLoading?(u(),b(c,{key:0})):k("",!0),t("div",z,[t("header",L,[t("div",C,[w(g,{class:"text-white m-4",icon:"arrow-left",onClick:e[0]||(e[0]=o=>i.$router.go(-1))}),V,I])]),t("main",S,[s(t("input",{type:"date",name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=o=>n.date=o),class:"block px-2.5 py-4 w-full text-gray-900 bg-transparent rounded-lg border-1 border-green-600 focus:ring-0 focus:border-green-600"},null,512),[[a,n.date]]),s(t("input",{type:"time",name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=o=>n.start=o),class:"block px-2.5 mt-4 py-4 w-full text-gray-900 bg-transparent rounded-lg border-1 border-green-600 focus:ring-0 focus:border-green-600"},null,512),[[a,n.start]]),s(t("input",{type:"time",name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=o=>n.end=o),class:"block px-2.5 mt-4 py-4 w-full text-gray-900 bg-transparent rounded-lg border-1 border-green-600 focus:ring-0 focus:border-green-600"},null,512),[[a,n.end]]),s(t("textarea",{placeholder:"Keperluan","onUpdate:modelValue":e[4]||(e[4]=o=>n.keterangan=o),class:"block px-2.5 mt-4 py-4 w-full text-gray-900 bg-transparent rounded-lg border-1 border-green-600 focus:ring-0 focus:border-green-600"},null,512),[[a,n.keterangan]]),t("div",j,[t("button",{class:"text-lg bg-primaryColors rounded-2xl w-full py-1 text-white",onClick:e[5]||(e[5]=o=>p.ajukanIzin())},"Ajukan Izin")])])])],64)}const E=h(v,[["render",A]]);export{E as default};
