import{P as p}from"./PasswordContainer-cf5ee53e.js";import{a as u}from"./auth-f4ded83c.js";import{r as c,o as m,c as h,a as t,w as a,v as i,b as f,t as x}from"./index-29abdbc7.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./mainRepositories-2fcd8aa7.js";import"./mainLocalStorage-6a318ee8.js";const _="/assets/adminsekolah-a43c7c2b.png",g=u(),k={components:{PasswordContainer:p},name:"LoginView",data(){return{kode_sekolah:"",nis:"",password:"",isLoading:!1,error:null}},methods:{async loginRequest(){const r={kode_sekolah:this.kode_sekolah,nis:this.nis,password:this.password};let e=await g.login(r);var l=JSON.parse(e);this.isLoading=l.loading,l.error==null?this.$router.push("/home"):(this.error=l.error,setTimeout(()=>{this.error=null},2e3))},clear(){localStorage.clear(),this.$snackbar.add({type:"success",text:"Riwayat berhasil dihapus"})},openWhatsApp(){const e="https://wa.me/6281233640003";window.open(e,"_blank")}},mounted(){"onbeforeinstallprompt"in window&&window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),this.deferredPrompt=r,document.getElementById("downloadBtn").style.display="block"})}},b={class:"flex flex-col h-100"},y={class:"flex-grow"},v={class:"container pt-2"},C=t("div",{class:"flex flex-row justify-center w-full"},[t("img",{src:_,alt:"",class:"w-20 h-20"})],-1),L=t("p",{class:"text-center text-[15px] font-mulish font-[600] pt-6"},"Assalamu'alaikum Selamat Datang Di",-1),P=t("p",{class:"text-center text-[20px] font-mulish font-bold"},"Admin Sekolah",-1),S={class:"container flex flex-col pt-10 item-center gap-y-2"},B={class:"text-end text-primaryColors"},A={href:"",class:"text-center text-red-500 font-mulish text-md"},N={class:"h-20"},R=t("p",{class:"text-center text-[13px] font-mulish pt-8"},"Butuh Bantuan ?",-1);function V(r,e,l,D,o,n){const d=c("PasswordContainer");return m(),h("div",b,[t("main",y,[t("div",v,[C,L,P,t("div",S,[a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.kode_sekolah=s),type:"text",class:"px-2 py-3 mb-3 border-2 border-gray-400 rounded-lg font-mulish",placeholder:"Kode Sekolah"},null,512),[[i,o.kode_sekolah]]),a(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.nis=s),type:"text",class:"px-2 py-3 border-2 border-gray-400 rounded-lg font-mulish",placeholder:"NIS"},null,512),[[i,o.nis]]),f(d,{value:o.password,"onUpdate:value":e[2]||(e[2]=s=>o.password=s),title:"Password"},null,8,["value"]),t("small",B,[t("button",{onClick:e[3]||(e[3]=s=>this.$router.push("/resetPassword"))}," Lupa Password ?")]),t("button",{onClick:e[4]||(e[4]=(...s)=>n.loginRequest&&n.loginRequest(...s)),class:"w-full h-12 text-white border-2 rounded-full bg-primaryColors"},"Lanjut"),t("a",A,x(o.error),1),t("a",{href:"",class:"text-center font-mulish text-primaryColors text-md",onClick:e[5]||(e[5]=(...s)=>n.clear&&n.clear(...s))},"Hapus Riwayat")])])]),t("footer",N,[R,t("p",{class:"text-center text-[15px] font-mulish text-primaryColors pt-2",onClick:e[6]||(e[6]=(...s)=>n.openWhatsApp&&n.openWhatsApp(...s))},"Hubungi Admin")])])}const I=w(k,[["render",V]]);export{I as default};
