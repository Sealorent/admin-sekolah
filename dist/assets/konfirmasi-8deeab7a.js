import{z as o}from"./index-c4694308.js";import{m as r}from"./mainRepositories-374c5722.js";import{M as i}from"./mainLocalStorage-1cdc50c7.js";const s={data:[],success:!1,loading:!0,error:null,formData:new FormData},d=o("konfirmasi",{state:()=>s,actions:{setFormData(t){Object.entries(t).forEach(([a,e])=>{this.formData.append(a,e)})},async getListKonfirmasi(){var t={nis:i.getAuth().nis,kode_sekolah:i.getAuth().kode_sekolah};this.setFormData(t);try{const a=await r.listKonfirmasi(this.formData);return a.data.is_correct?(this.data=a.data.upload,this.loading=!1):(this.loading=!1,this.error=a.data.message),JSON.stringify(s)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(s)}},async uploadBukti(t){this.setFormData(t);try{const a=await r.uploadBuktiKonfirmasi(this.formData);return a.data.is_correct?(this.data=a.data,this.loading=!1):(this.loading=!1,this.error=a.data.message),JSON.stringify(s)}catch(a){return this.loading=!1,this.error=a.message,JSON.stringify(s)}},async detailKonfirmasi(t){return i.setDetailKonfirmasi(t),this.loading=!1,this.data=null,this.error=null,JSON.stringify(s)}}});export{d as k};
