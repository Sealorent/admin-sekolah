import{a as Be}from"./auth-0db03d14.js";import{i as Ee}from"./informasi-4fa0625c.js";import{m as Le}from"./mainLocalStorage-6a318ee8.js";import{d as ue,e as d,f as E,p as S,g as De,n as Pe,h as Ve,i as xe,j as ie,k as Se,l as k,m as y,F,r as O,o as A,c as V,a,t as Y,b as I,q as ae,s as re,u as M,x as ke,y as ze}from"./index-7a3f4d22.js";import{q as Re}from"./style-d2e32a19.js";import{j as Ue}from"./flowbite-vue-7a61088e.js";import{M as Xe}from"./MenuBottomBar-6bb60379.js";import{_ as $e}from"./_plugin-vue_export-helper-c27b6911.js";import"./mainRepositories-174151c3.js";const He="/assets/ic_bayar-9dbbc6dd.svg",Ye="/assets/ic_izin-4ae56f16.svg",Fe="/assets/ic_konfirmasi-a7d46549.svg",Ke="/assets/ic_konseling-ba8dd80e.svg",We="/assets/ic_presensi-dd738550.svg",Ge="/assets/ic_tabungan-c7495619.svg",qe="/assets/ic_tahfidz-6e26eb42.svg";class Je{filterArraysByProperty(t,n,l){return t.filter(r=>n.some(s=>s[l]===r[l]))}}const Qe=new Je;/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const v={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Ae={itemsToShow:{default:v.itemsToShow,type:Number},itemsToScroll:{default:v.itemsToScroll,type:Number},wrapAround:{default:v.wrapAround,type:Boolean},throttle:{default:v.throttle,type:Number},snapAlign:{default:v.snapAlign,validator(e){return["start","end","center","center-even","center-odd"].includes(e)}},transition:{default:v.transition,type:Number},breakpoints:{default:v.breakpoints,type:Object},autoplay:{default:v.autoplay,type:Number},pauseAutoplayOnHover:{default:v.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:v.mouseDrag,type:Boolean},touchDrag:{default:v.touchDrag,type:Boolean},dir:{default:v.dir,validator(e){return["rtl","ltr"].includes(e)}},i18n:{default:v.i18n,type:Object},settings:{default(){return{}},type:Object}};function Ze({config:e,slidesCount:t}){const{snapAlign:n,wrapAround:l,itemsToShow:r=1}=e;if(l)return Math.max(t-1,0);let s;switch(n){case"start":s=t-r;break;case"end":s=t-1;break;case"center":case"center-odd":s=t-Math.ceil((r-.5)/2);break;case"center-even":s=t-Math.ceil(r/2);break;default:s=0;break}return Math.max(s,0)}function et({config:e,slidesCount:t}){const{wrapAround:n,snapAlign:l,itemsToShow:r=1}=e;let s=0;if(n||r>t)return s;switch(l){case"start":s=0;break;case"end":s=r-1;break;case"center":case"center-odd":s=Math.floor((r-1)/2);break;case"center-even":s=Math.floor((r-2)/2);break;default:s=0;break}return s}function le({val:e,max:t,min:n}){return t<n?e:Math.min(Math.max(e,n),t)}function tt({config:e,currentSlide:t,slidesCount:n}){const{snapAlign:l,wrapAround:r,itemsToShow:s=1}=e;let p=t;switch(l){case"center":case"center-odd":p-=(s-1)/2;break;case"center-even":p-=(s-2)/2;break;case"end":p-=s-1;break}return r?p:le({val:p,max:n-s,min:0})}function je(e){return e?e.reduce((t,n)=>{var l;return n.type===F?[...t,...je(n.children)]:((l=n.type)===null||l===void 0?void 0:l.name)==="CarouselSlide"?[...t,n]:t},[]):[]}function K({val:e,max:t,min:n=0}){return e>t?K({val:e-(t+1),max:t,min:n}):e<n?K({val:e+(t+1),max:t,min:n}):e}function nt(e,t){let n;return t?function(...l){const r=this;n||(e.apply(r,l),n=!0,setTimeout(()=>n=!1,t))}:e}function ot(e,t){let n;return function(...l){n&&clearTimeout(n),n=setTimeout(()=>{e(...l),n=null},t)}}function Oe(e="",t={}){return Object.entries(t).reduce((n,[l,r])=>n.replace(`{${l}}`,String(r)),e)}var st=ue({name:"ARIA",setup(){const e=y("config",E(Object.assign({},v))),t=y("currentSlide",d(0)),n=y("slidesCount",d(0));return()=>k("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Oe(e.i18n.itemXofY,{currentSlide:t.value+1,slidesCount:n.value}))}}),it=ue({name:"Carousel",props:Ae,setup(e,{slots:t,emit:n,expose:l}){var r;const s=d(null),p=d([]),m=d(0),f=d(0),i=E(Object.assign({},v));let h=Object.assign({},v),w;const c=d((r=e.modelValue)!==null&&r!==void 0?r:0),u=d(0),z=d(0),N=d(0),L=d(0);let B,W;S("config",i),S("slidesCount",f),S("currentSlide",c),S("maxSlide",N),S("minSlide",L),S("slideWidth",m);function G(){w=Object.assign({},e.breakpoints),h=Object.assign(Object.assign(Object.assign({},h),e),{i18n:Object.assign(Object.assign({},h.i18n),e.i18n),breakpoints:void 0}),ce(h)}function R(){if(!w||!Object.keys(w).length)return;const o=Object.keys(w).map(g=>Number(g)).sort((g,x)=>+x-+g);let _=Object.assign({},h);o.some(g=>{const x=window.matchMedia(`(min-width: ${g}px)`).matches;return x&&(_=Object.assign(Object.assign({},_),w[g])),x}),ce(_)}function ce(o){Object.entries(o).forEach(([_,g])=>i[_]=g)}const de=ot(()=>{R(),D()},16);function D(){if(!s.value)return;const o=s.value.getBoundingClientRect();m.value=o.width/i.itemsToShow}function q(){f.value<=0||(z.value=Math.ceil((f.value-1)/2),N.value=Ze({config:i,slidesCount:f.value}),L.value=et({config:i,slidesCount:f.value}),i.wrapAround||(c.value=le({val:c.value,max:N.value,min:L.value})))}De(()=>{Pe(()=>D()),setTimeout(()=>D(),1e3),R(),ve(),window.addEventListener("resize",de,{passive:!0}),n("init")}),Ve(()=>{W&&clearTimeout(W),B&&clearInterval(B),window.removeEventListener("resize",de,{passive:!0})});let b=!1;const U={x:0,y:0},X={x:0,y:0},C=E({x:0,y:0}),$=d(!1),J=d(!1),Ie=()=>{$.value=!0},Me=()=>{$.value=!1};function me(o){["INPUT","TEXTAREA","SELECT"].includes(o.target.tagName)||(b=o.type==="touchstart",b||o.preventDefault(),!(!b&&o.button!==0||T.value)&&(U.x=b?o.touches[0].clientX:o.clientX,U.y=b?o.touches[0].clientY:o.clientY,document.addEventListener(b?"touchmove":"mousemove",fe,!0),document.addEventListener(b?"touchend":"mouseup",ge,!0)))}const fe=nt(o=>{J.value=!0,X.x=b?o.touches[0].clientX:o.clientX,X.y=b?o.touches[0].clientY:o.clientY;const _=X.x-U.x,g=X.y-U.y;C.y=g,C.x=_},i.throttle);function ge(){const o=i.dir==="rtl"?-1:1,_=Math.sign(C.x)*.4,g=Math.round(C.x/m.value+_)*o;if(g&&!b){const x=te=>{te.stopPropagation(),window.removeEventListener("click",x,!0)};window.addEventListener("click",x,!0)}j(c.value-g),C.x=0,C.y=0,J.value=!1,document.removeEventListener(b?"touchmove":"mousemove",fe,!0),document.removeEventListener(b?"touchend":"mouseup",ge,!0)}function ve(){!i.autoplay||i.autoplay<=0||(B=setInterval(()=>{i.pauseAutoplayOnHover&&$.value||H()},i.autoplay))}function _e(){B&&(clearInterval(B),B=null),ve()}const T=d(!1);function j(o){const _=i.wrapAround?o:le({val:o,max:N.value,min:L.value});c.value===_||T.value||(n("slide-start",{slidingToIndex:o,currentSlideIndex:c.value,prevSlideIndex:u.value,slidesCount:f.value}),T.value=!0,u.value=c.value,c.value=_,W=setTimeout(()=>{if(i.wrapAround){const g=K({val:_,max:N.value,min:0});g!==c.value&&(c.value=g,n("loop",{currentSlideIndex:c.value,slidingToIndex:o}))}n("update:modelValue",c.value),n("slide-end",{currentSlideIndex:c.value,prevSlideIndex:u.value,slidesCount:f.value}),T.value=!1,_e()},i.transition))}function H(){j(c.value+i.itemsToScroll)}function Q(){j(c.value-i.itemsToScroll)}const pe={slideTo:j,next:H,prev:Q};S("nav",pe),S("isSliding",T);const he=xe(()=>tt({config:i,currentSlide:c.value,slidesCount:f.value}));S("slidesToScroll",he);const Ne=xe(()=>{const o=i.dir==="rtl"?-1:1,_=he.value*m.value*o;return{transform:`translateX(${C.x-_}px)`,transition:`${T.value?i.transition:0}ms`,margin:i.wrapAround?`0 -${f.value*m.value}px`:"",width:"100%"}});function be(){G(),R(),q(),D(),_e()}Object.keys(Ae).forEach(o=>{["modelValue"].includes(o)||ie(()=>e[o],be)}),ie(()=>e.modelValue,o=>{o!==c.value&&j(Number(o))}),ie(f,q),n("before-init"),G();const ye={config:i,slidesCount:f,slideWidth:m,next:H,prev:Q,slideTo:j,currentSlide:c,maxSlide:N,minSlide:L,middleSlide:z};l({updateBreakpointsConfigs:R,updateSlidesData:q,updateSlideWidth:D,initDefaultConfigs:G,restartCarousel:be,slideTo:j,next:H,prev:Q,nav:pe,data:ye});const Z=t.default||t.slides,ee=t.addons,we=E(ye);return()=>{const o=je(Z==null?void 0:Z(we)),_=(ee==null?void 0:ee(we))||[];o.forEach((ne,oe)=>ne.props.index=oe);let g=o;if(i.wrapAround){const ne=o.map((se,P)=>Se(se,{index:-o.length+P,isClone:!0,key:`clone-before-${P}`})),oe=o.map((se,P)=>Se(se,{index:o.length+P,isClone:!0,key:`clone-after-${P}`}));g=[...ne,...o,...oe]}p.value=o,f.value=Math.max(o.length,1);const x=k("ol",{class:"carousel__track",style:Ne.value,onMousedownCapture:i.mouseDrag?me:null,onTouchstartPassiveCapture:i.touchDrag?me:null},g),te=k("div",{class:"carousel__viewport"},x);return k("section",{ref:s,class:{carousel:!0,"is-sliding":T.value,"is-dragging":J.value,"is-hover":$.value,"carousel--rtl":i.dir==="rtl"},dir:i.dir,"aria-label":i.i18n.ariaGallery,tabindex:"0",onMouseenter:Ie,onMouseleave:Me},[te,_,k(st)])}}}),Ce;(function(e){e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowLeft="arrowLeft"})(Ce||(Ce={}));const at=()=>{const e=y("config",E(Object.assign({},v))),t=y("maxSlide",d(1)),n=y("minSlide",d(1)),l=y("currentSlide",d(1)),r=y("nav",{}),s=m=>K({val:l.value,max:t.value,min:0})===m,p=[];for(let m=n.value;m<t.value+1;m++){const f=k("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":s(m)},"aria-label":Oe(e.i18n.ariaNavigateToSlide,{slideNumber:m+1}),onClick:()=>r.slideTo(m)}),i=k("li",{class:"carousel__pagination-item",key:m},f);p.push(i)}return k("ol",{class:"carousel__pagination"},p)};var rt=ue({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=y("config",E(Object.assign({},v))),l=y("currentSlide",d(0)),r=y("slidesToScroll",d(0)),s=y("isSliding",d(!1)),p=()=>e.index===l.value,m=()=>e.index===l.value-1,f=()=>e.index===l.value+1,i=()=>{const h=Math.floor(r.value),w=Math.ceil(r.value+n.itemsToShow-1);return e.index>=h&&e.index<=w};return()=>{var h;return k("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":i(),"carousel__slide--active":p(),"carousel__slide--prev":m(),"carousel__slide--next":f(),"carousel__slide--sliding":s.value},"aria-hidden":!i()},(h=t.default)===null||h===void 0?void 0:h.call(t))}}});const Te=Ee(),lt=Be(),ut={name:"HomeView",components:{Carousel:it,Pagination:at,Slide:rt,Spinner:Ue,VueBottomSheet:Re,MenuBottomBar:Xe},data(){return{user:Le.getUser(),imageProfile:null,isLoadingImage:!0,slides:[],menu:[{icon:"ic_bayar",name:"Bayar",route:"bayar",bg_color:"bg-green-200 "},{icon:"ic_tabungan",name:"Tabungan",route:"tabungan",bg_color:"bg-green-200"},{icon:"ic_konfirmasi",name:"Konfirmasi",route:"konfirmasi",bg_color:"bg-green-200"},{icon:"ic_tahfidz",name:"Tahfidz",route:"tahfidz",bg_color:"bg-green-200 "},{icon:"ic_izin",name:"Izin",route:"izin",bg_color:"bg-blue-200 "},{icon:"ic_konseling",name:"Konseling",route:"konseling",bg_color:"bg-blue-200 "},{icon:"ic_presensi",name:"Presensi",route:"presensi",bg_color:"bg-blue-200 "}]}},methods:{getImgUrl(e){return new URL(Object.assign({"../../assets/icons/menu/ic_bayar.svg":He,"../../assets/icons/menu/ic_izin.svg":Ye,"../../assets/icons/menu/ic_konfirmasi.svg":Fe,"../../assets/icons/menu/ic_konseling.svg":Ke,"../../assets/icons/menu/ic_presensi.svg":We,"../../assets/icons/menu/ic_tabungan.svg":Ge,"../../assets/icons/menu/ic_tahfidz.svg":qe})[`../../assets/icons/menu/${e}.svg`],self.location).href},async getInformasi(){let e=await Te.getInformation();var t=JSON.parse(e);this.slides=t.data,this.isLoadingImage=t.loading},logOut(){lt.logout(),this.$router.push("/")},open(){this.$refs.myBottomSheet.open()},close(){this.$refs.myBottomSheet.close()},async detail(e){let t=await Te.setInformation(e);var n=JSON.parse(t);n.error==null?this.$router.push({name:"detailInformasi"}):this.$snackbar.add({type:"error",text:"Data Kosong"})}},mounted(){this.imageProfile=this.user.photo!=null?this.user.photo:"src/assets/images/dummyProfile.png";const e=Qe.filterArraysByProperty(this.menu,this.user.navmenu,"name");this.menu=e,console.log(this.user),this.getInformasi()}},ct={class:"flex flex-col h-100"},dt={class:"bg-primaryColors bg_home"},mt={class:"flex justify-between w-full pt-2"},ft={class:"container"},gt={class:"text-white text-md font-montserrat font-thin"},vt=a("p",{class:"text-white text-lg font-montserrat font-thin"},"Keluar",-1),_t={class:"flex justify-between w-full pt-3 pb-3"},pt={class:"container flex flex-col justify-center items-start w-80"},ht={class:"text-white text-md font-montserrat"},bt={class:"text-sm font-montserrat font-light text-gray-300"},yt={class:"container flex flex-grow justify-end items-center w-40"},wt={class:"rounded-full h-20 w-20 border-2 overflow-hidden"},xt=["src"],St={class:"pt-4 flex-grow"},kt={class:""},At={class:"container pt-2 text-center"},Ct={class:"grid grid-cols-4 gap-3"},Tt=["onClick"],jt=["src"],Ot={class:"flex items-center justify-center pt-3"},It={class:"text-black font-bold font-mulish text-sm"},Mt={class:"container px-5 pt-6 pb-2"},Nt={class:"flex justify-between items-center"},Bt=a("p",{class:"font-mulish font-bold"},"Informasi",-1),Et={class:"container pb-32 pt-3"},Lt={class:"carousel__item"},Dt={class:"container w-40 h-40 flex items-center justify-center"},Pt=["onClick"],Vt=["src"],zt=a("img",{src:"",alt:""},null,-1),Rt={class:"bg-primaryColors flex bottom-0 fixed w-full"},Ut=a("p",{class:"ms-4"},"Anda yakin akan keluar akun ?",-1),Xt={class:"grid grid-cols-2 gap-2 mx-2 mt-3"};function $t(e,t,n,l,r,s){const p=O("font-awesome-icon"),m=O("spinner"),f=O("Slide"),i=O("Pagination"),h=O("Carousel"),w=O("MenuBottomBar"),c=O("vue-bottom-sheet");return A(),V("div",ct,[a("header",dt,[a("div",mt,[a("div",ft,[a("p",gt,Y(r.user.nama_pesantren),1)]),a("div",{onClick:t[0]||(t[0]=(...u)=>s.open&&s.open(...u)),class:"container flex justify-end items-center gap-x-4"},[vt,I(p,{icon:["fas","right-from-bracket"],class:"text-white"})])]),a("div",_t,[a("div",pt,[a("p",ht,Y(r.user.nama),1),a("p",bt,Y(r.user.kelas),1)]),a("div",yt,[a("div",wt,[a("img",{alt:"profile-image",class:"object-cover h-full w-full",src:r.imageProfile},null,8,xt)])])])]),a("main",St,[a("div",kt,[a("div",At,[a("div",Ct,[(A(!0),V(F,null,ae(r.menu,u=>(A(),V("div",{class:"flex-col justify-center items-center",onClick:z=>e.$router.push({name:`${u.route}`}),key:u},[a("div",{class:ze(["flex justify-center items-center rounded-3xl w-14 h-14 mx-auto bg-opacity-50",u.bg_color])},[a("img",{src:s.getImgUrl(u.icon),alt:"",style:{width:"60%"}},null,8,jt)],2),a("div",Ot,[a("p",It,Y(u.name),1)])],8,Tt))),128))])]),a("div",Mt,[a("div",Nt,[Bt,a("button",{class:"font-mulish font-light",onClick:t[1]||(t[1]=u=>e.$router.push({name:"informasi"}))},"Lihat Semua ")]),a("div",Et,[r.isLoadingImage?(A(),re(h,{key:0,itemsToShow:3,wrapAround:!0,transition:500,autoplay:2e3,"pause-autoplay-on-hover":""},{addons:M(()=>[I(i)]),default:M(()=>[(A(),V(F,null,ae(3,u=>I(f,{key:u},{default:M(()=>[a("div",Lt,[a("div",Dt,[I(m,{color:"green",size:"8"})])])]),_:2},1024)),64))]),_:1})):ke("",!0),r.isLoadingImage==!1?(A(),re(h,{key:1,itemsToShow:1,wrapAround:!0,transition:500,autoplay:2e3,"pause-autoplay-on-hover":""},{addons:M(()=>[I(i)]),default:M(()=>[(A(!0),V(F,null,ae(r.slides,u=>(A(),re(f,{key:u.id},{default:M(()=>[a("div",{class:"carousel__item",onClick:z=>s.detail(u)},[a("img",{src:u.detail.foto,alt:"",style:{width:"1000px",height:"200px"}},null,8,Vt)],8,Pt)]),_:2},1024))),128))]),_:1})):ke("",!0),zt])])])]),a("footer",Rt,[I(w)]),I(c,{ref:"myBottomSheet"},{default:M(()=>[Ut,a("div",Xt,[a("button",{class:"border-2 w-full rounded-full",onClick:t[2]||(t[2]=(...u)=>s.close&&s.close(...u))},"Batal"),a("button",{class:"border-2 w-full rounded-full bg-primaryColors font-mulish text-white p-2 shadow-lg",onClick:t[3]||(t[3]=(...u)=>s.logOut&&s.logOut(...u))},"Keluar")])]),_:1},512)])}const Zt=$e(ut,[["render",$t]]);export{Zt as default};
