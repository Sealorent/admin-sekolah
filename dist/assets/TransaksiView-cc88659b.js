import{z as y,r as c,o as l,c as r,a as t,b as n,F as g,q as p,t as d,y as k}from"./index-c4694308.js";import{m as v}from"./mainRepositories-374c5722.js";import{M as w}from"./mainLocalStorage-1cdc50c7.js";import{B,a as T}from"./ButtonFilterYear-829235c6.js";import{M as b}from"./MenuBottomBar-fb8cd340.js";import{F}from"./dateFormat-14868802.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const f={data:[],loading:!0,error:null},N=y("transaksi",{state:()=>f,actions:{async getHistoryTransaksi(){try{let e=w.getAuth(),a=JSON.stringify({nis:e.nis,kode_sekolah:e.kode_sekolah,status:["PENDING","LUNAS","EXPIRED"]}),i=await v.historyTransaksi(a);return i.data.is_correct?(this.data=i.data,this.loading=!1):(this.loading=!1,this.error=i.data.message),JSON.stringify(f)}catch(e){return this.loading=!1,this.error=e.message,JSON.stringify(f)}}}}),C=N(),I={name:"TransaksiView",components:{ButtonFilter:B,ButtonFilterYear:T,MenuBottomBar:b},data(){return{listTransaksi:[],listTabungan:[],selectedYear:null,selesai:!1,pending:!1,title:"Semua Tahun"}},methods:{async getHistoryTransaksi(){let e=await C.getHistoryTransaksi();var a=JSON.parse(e);console.log(a.data.history),this.listTransaksi=a.data.list_transaksi,this.listTabungan=a.data.history},dateFormatInd(e){return F.fullYearInd(e)},togglePending(){},toggleSelesai(){}},mounted(){this.getHistoryTransaksi()}},M={class:"flex flex-col h-100"},D=t("header",{class:"bg-primaryColors top-0 w-full sticky"},[t("p",{class:"text-center text-white font-[500px] font-mulish py-4"},"Transaksi")],-1),P={class:"container"},Y={class:"flex flex-nowrap overflow-x-auto scrollbar-hidden pt-2"},E={class:"flex space-x-4"},H={class:"pt-4"},J={class:"flex flex-row py-3 border-t-2"},O={class:"container w-20 flex items-center"},V={class:"container"},L={class:"flex flex-row py-3 border-t-2"},z={class:"container w-20 flex items-center"},A={class:"container"},G={class:"bg-primaryColors flex bottom-0 fixed w-full"};function R(e,a,i,q,o,u){const h=c("ButtonFilterYear"),m=c("ButtonFilter"),_=c("font-awesome-icon"),x=c("MenuBottomBar");return l(),r("div",M,[D,t("main",null,[t("div",P,[t("div",Y,[t("div",E,[n(h,{title:o.title,value:o.selectedYear!=null},null,8,["title","value"]),n(m,{title:"Selesai",value:o.selesai,onClick:u.toggleSelesai},null,8,["value","onClick"]),n(m,{title:"Menunggu Pembayaran",value:o.pending,onClick:u.togglePending},null,8,["value","onClick"])])]),t("div",H,[(l(!0),r(g,null,p(o.listTransaksi,s=>(l(),r("div",{class:"flex flex-col",key:s},[t("div",J,[t("div",O,[n(_,{icon:["fas","money-bill"],class:"text-primaryColors align-middle h-8"})]),t("div",V,[t("p",null,d(s.noref),1),t("p",{class:k(s.status=="PENDING"?"text-yellow-400":"text-green-500")},d(s.status),3)])])]))),128)),(l(!0),r(g,null,p(o.listTabungan,s=>(l(),r("div",{class:"flex flex-col",key:s},[t("div",L,[t("div",z,[n(_,{icon:["fas","money-bill"],class:"text-primaryColors align-middle h-8"})]),t("div",A,[t("p",null,d(s["no ref"]),1),t("p",null,d(u.dateFormatInd(s.tanggal)),1)])])]))),128))])])]),t("footer",G,[n(x)])])}const $=S(I,[["render",R]]);export{$ as default};
