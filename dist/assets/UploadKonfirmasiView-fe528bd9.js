import{k as f}from"./konfirmasi-8deeab7a.js";import{M as m}from"./mainLocalStorage-1cdc50c7.js";import{L as k}from"./LoadingContainer-c572b9e8.js";import{r as p,o as n,c,s as h,x as d,a as e,b as u,w as _,v as x,F as b}from"./index-c4694308.js";import{_ as w}from"./_plugin-vue_export-helper-c27b6911.js";import"./mainRepositories-374c5722.js";import"./flowbite-vue-9c7e4af1.js";const y=f(),B={name:"uploadBuktiBayar",components:{LoadingCircle:k},data(){return{imageFile:null,imageBukti:null,keterangan:null,isLoading:!1}},mounted(){},methods:{onFilePicked(a){this.imageFile=a.target.files[0],this.imageBukti=URL.createObjectURL(a.target.files[0])},getImage(){this.$refs.input.click()},async uploadBukti(){if(this.isLoading=!0,this.imageFile==null)this.$snackbar.add({type:"error",text:"Silahkan upload bukti pembayaran"}),this.isLoading=!1;else{const a={nis:m.getAuth().nis,kode_sekolah:m.getAuth().kode_sekolah,keterangan:this.keterangan,image:this.imageFile},t=await y.uploadBukti(a),l=JSON.parse(t);l.error==null?(this.$snackbar.add({type:"success",text:"Berhasil mengirim bukti pembayaran"}),this.$router.push({name:"konfirmasi"})):console.log(l.error)}}}},C={class:"flex flex-col h-100 w-screen"},v={class:"bg-primaryColors top-0 sticky w-full"},L={class:"container flex flex-row items-center justify-between"},F=e("p",{class:"text-center text-white font-[20px] font-mulish py-4"},"Upload Bukti",-1),U=e("p",null,null,-1),V={class:"flex-grow mt-4"},I={class:"container"},M={class:"grid grid-cols-2 gap-4 w-full container mt-4 h-32"},N={class:"container bg-white shadow flex items-center rounded-xl"},S=["src"],j={key:1,class:"mx-auto"},P={class:"container flex items-center align-middle"},A={class:"flex flex-row space-x-3 px-8 py-1"},K=e("p",{class:"font-mulish pb-1 text-white"},"Upload",-1),O={class:"fixed bottom-0 w-full flex justify-center container"},R=e("p",{class:"text-[15px] py-2 font-mulish text-white"},"Kirim Bukti",-1),D=[R];function E(a,t,l,J,o,i){const g=p("LoadingCircle"),r=p("font-awesome-icon");return n(),c(b,null,[o.isLoading?(n(),h(g,{key:0})):d("",!0),e("div",C,[e("header",v,[e("div",L,[u(r,{class:"text-white",icon:"arrow-left",onClick:t[0]||(t[0]=s=>this.$router.push({name:"home"}))}),F,U])]),e("main",V,[e("div",I,[_(e("textarea",{placeholder:"Masukkan keterangan...","onUpdate:modelValue":t[1]||(t[1]=s=>o.keterangan=s),name:"",id:"",class:"w-full block px-2.5 py-4 text-gray-900 bg-transparent rounded-lg border-1 border-blue-600 focus:ring-0 focus:border-blue-600"},`\r
                `,512),[[x,o.keterangan]])]),e("div",M,[e("div",N,[o.imageBukti!=null?(n(),c("img",{key:0,src:o.imageBukti,alt:""},null,8,S)):d("",!0),o.imageBukti==null?(n(),c("p",j,[u(r,{class:"text-primaryColors",icon:"camera"})])):d("",!0)]),e("div",P,[e("button",{class:"mx-auto rounded-full bg-primaryColors",onClick:t[3]||(t[3]=(...s)=>i.getImage&&i.getImage(...s))},[e("div",A,[e("input",{type:"file",id:"inputImage",ref:"input",onChange:t[2]||(t[2]=(...s)=>i.onFilePicked&&i.onFilePicked(...s)),style:{display:"none"},accept:"image/*;capture=camera"},null,544),u(r,{icon:["fas","camera"],class:"text-white mt-1"}),K])])])]),e("div",O,[e("button",{class:"rounded-full w-full shadow-xl mb-3 bg-primaryColors",onClick:t[4]||(t[4]=(...s)=>i.uploadBukti&&i.uploadBukti(...s))},D)])])])],64)}const X=w(B,[["render",E]]);export{X as default};
